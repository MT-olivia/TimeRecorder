<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:behaviors="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:l="http://schemas.livet-mvvm.net/2011/wpf"
    xmlns:local="clr-namespace:TimeRecorder.Contents.WorkUnitRecorder"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">

    <Style x:Key="ChipBorderStyleKey" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource MaterialDesignChipBackground}" />
        <Setter Property="CornerRadius" Value="12" />
        <Setter Property="Margin" Value="0,4,8,4" />
        <Setter Property="Padding" Value="12,0,12,0" />
    </Style>

    <DataTemplate x:Key="TaskCardKey" DataType="{x:Type local:TaskCardViewModel}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="56" />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>

            <Border
                Width="40"
                Height="40"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Background="{StaticResource MaterialDesignBodyLight}"
                CornerRadius="20"
                Opacity="0.7">
                <materialDesign:PackIcon
                    Width="24"
                    Height="24"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Kind="{Binding TaskCategory.Value, Converter={StaticResource EnumToIconKeyConverter}}" />
            </Border>

            <StackPanel Grid.Column="1" Orientation="Vertical">
                <!--  Title  -->
                <TextBlock Style="{StaticResource MaterialDesignHeadline6TextBlock}" Text="{Binding Title.Value}" />
                <!--  Remarks  -->
                <TextBlock
                    Opacity="0.7"
                    Style="{StaticResource MaterialDesignBody2TextBlock}"
                    Text="{Binding Remarks.Value}" />
            </StackPanel>

            <!--  chips  -->
            <StackPanel
                Grid.Row="1"
                Grid.ColumnSpan="2"
                Height="32"
                Orientation="Horizontal">
                <!--  Category  -->
                <Border Style="{StaticResource ChipBorderStyleKey}">
                    <TextBlock Style="{StaticResource MaterialDesignCaptionTextBlock}" Text="{Binding TaskCategory.Value, Converter={StaticResource EnumToDisplayTextConverter}}" />
                </Border>

                <!--  Product  -->
                <Border Style="{StaticResource ChipBorderStyleKey}">
                    <TextBlock Style="{StaticResource MaterialDesignCaptionTextBlock}" Text="{Binding Product.Value, Converter={StaticResource EnumToDisplayTextConverter}}" />
                </Border>

                <!--  User  -->
                <Border Style="{StaticResource ChipBorderStyleKey}">
                    <TextBlock Style="{StaticResource MaterialDesignCaptionTextBlock}" Text="user" />
                </Border>
            </StackPanel>

            <!--<Border
                Grid.Row="2"
                Grid.ColumnSpan="2"
                Height="1"
                Margin="0,8,0,20"
                Background="{StaticResource MaterialDesignDivider}"
                BorderThickness="0" />-->

            <TextBlock
                Grid.Row="3"
                Grid.ColumnSpan="2"
                HorizontalAlignment="Left"
                Text="2019/4/6" />

            <StackPanel
                Grid.Row="3"
                Grid.ColumnSpan="2"
                HorizontalAlignment="Right"
                Orientation="Horizontal">
                <Button
                    Width="24"
                    Height="24"
                    Style="{StaticResource MaterialDesignIconButton}"
                    ToolTip="タスクの開始">
                    <materialDesign:PackIcon
                        Width="16"
                        Height="16"
                        Kind="Play" />
                </Button>
                <Button
                    Width="24"
                    Height="24"
                    Style="{StaticResource MaterialDesignIconButton}"
                    ToolTip="MaterialDesignIconButton">


                    <behaviors:Interaction.Triggers>
                        <behaviors:EventTrigger EventName="Click">
                            <l:LivetCallMethodAction
                                MethodName="EditWorkTask"
                                MethodParameter="{Binding}"
                                MethodTarget="{Binding DataContext, RelativeSource={RelativeSource AncestorType={x:Type local:WorkUnitRecorderView}}}" />
                        </behaviors:EventTrigger>
                    </behaviors:Interaction.Triggers>

                    <materialDesign:PackIcon
                        Width="16"
                        Height="16"
                        Kind="Pencil" />
                </Button>
            </StackPanel>


        </Grid>
    </DataTemplate>
</ResourceDictionary>